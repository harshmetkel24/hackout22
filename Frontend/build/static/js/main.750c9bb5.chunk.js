(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e){e.exports={1:"Gandhigram",2:"Sanyas Ashram",3:"Madalpur",4:"Sarkhej",5:"Gujarat clg",6:"Municipal corporation office",7:"Khamasa",8:"Kalupur",9:"Gita Mandir",10:"Raikad",11:"Jamalpur",12:"Khadia",13:"Sarangpur",14:"Ahmedabad Junction",15:"Vastapur",16:"Paldi",17:"Fortune Park",18:"MJ Library",19:"Raipur Darwaja"}},122:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(76),c=a.n(r),s=(a(91),a(6)),o=Object(n.createContext)({}),i=a(26),m=function(){var e=Object(n.useContext)(o),t=e.userName,a=(e.setUserName,e.token),r=e.setToken;return l.a.createElement("nav",{className:"navbar navbar-expand-lg position-fixed vw-100",style:{top:0,zIndex:1}},l.a.createElement("div",{className:"container-fluid"},l.a.createElement(i.b,{className:"navbar-brand px-5",style:{fontWeight:"bold",fontSize:"1.5em"},to:"/"},"Predict Bus"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(i.b,{className:"nav-link",to:"/about"},"About Us")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(i.b,{className:"nav-link",to:"/contact"},"Contact Us"))),l.a.createElement("div",{className:"d-flex"},!a&&l.a.createElement(l.a.Fragment,null,l.a.createElement(i.b,{to:"/login"},l.a.createElement("button",{className:"btn me-3 btn-outline-dark"},"Login")),l.a.createElement(i.b,{to:"/signup"},l.a.createElement("button",{className:"btn me-5 btn-outline-dark"},"Sign up"))),a&&l.a.createElement(l.a.Fragment,null,l.a.createElement("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",style:{paddingRight:"8px",marginTop:"5px"}},l.a.createElement("li",{className:"nav-item mx-5"},"Welcome ",t)),l.a.createElement(i.b,{to:"/login"},l.a.createElement("button",{className:"btn me-3 btn-outline-dark",onClick:function(){document.cookie="token=".concat(a,"; max-age=-60;SameSite:None;secure;"),r(null)}},"Log out")))))))},u=a(176),d=a(174),b=a(186),g=a(182),p=a(172);function f(e){var t=e.label,a=e.helperText,l=e.data,r=e.setter,c=e.value;return n.createElement(n.Fragment,null,n.createElement(g.a,{sx:{m:1,width:{md:450,sm:400,xs:300}}},n.createElement(u.a,{id:"demo-simple-select-helper-label"},t),n.createElement(p.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:c,label:"Age",variant:"filled",color:"warning",onChange:function(e){r(e.target.value)}},l.map(function(e,t){return n.createElement(d.a,{value:t+1},e)})),n.createElement(b.a,null,a)))}var E=a(177),h=a(178),v=a(104),x=a.n(v),N=a(103),y=function(){var e=[];for(var t in N)e.push(N[t]);var a=Object(n.useState)(0),r=Object(s.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(0),m=Object(s.a)(i,2),u=m[0],d=m[1],b=Object(n.useState)(0),g=Object(s.a)(b,2),p=g[0],v=g[1],y=Object(n.useState)(0),w=Object(s.a)(y,2),j=w[0],S=w[1],O=Object(n.useState)(!1),C=Object(s.a)(O,2),k=C[0],T=C[1],P=Object(n.useState)(null),W=Object(s.a)(P,2),z=W[0],B=W[1],L=l.a.useState(!0),U=Object(s.a)(L,2),A=U[0],D=U[1],F=l.a.useState(!1),q=Object(s.a)(F,2),J=q[0],Y=q[1];return l.a.createElement("div",{className:"contaier-fluid bg-light border  d-block d-md-flex flex-column justify-content-around",style:{minHeight:"90vh"}},l.a.createElement("div",{className:"display-4 text-center d-flex justify-content-center align-items-center mt-5 heading"},"Select Your Source And Destination"),k&&z&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"results px-2 py-4 my-5 rounded-5 border border-dark shadow-lg"},l.a.createElement("div",{className:"display-5 text-center"}," Your Optimal Bus! "),l.a.createElement("div",{className:"px-5 fw-bold"},"Bus Number: ",z[0][0]),l.a.createElement("div",{className:"px-5 fw-bold"},"Will arrive at: ",function(e){var t=new Date,a=new Date(t.getTime()+6e4*e),n=a.getHours(),l=a.getMinutes(),r=a.getSeconds();return"".concat(n,":").concat(l,":").concat(r)}(z[0][1])))),k&&!z&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"results px-2 py-4 my-5 rounded-5 border border-dark shadow-lg"},l.a.createElement("div",{className:"display-5 text-center"}," ","Sorry! No buses available"," "))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-5 col-md-12 d-flex justify-content-center align-items-center mb-3 mb-md-0"},l.a.createElement(f,{label:"Source",helperText:"Select your starting position",data:e,setter:o,value:c})),l.a.createElement("div",{className:"col-lg-2 col-md-12 d-flex justify-content-center align-items-center mb-3 mb-md-0"},l.a.createElement(x.a,{style:{height:"80px",width:"80px"}})),l.a.createElement("div",{className:"col-lg-5 col-md-12 d-flex justify-content-center align-items-center mb-3 mb-md-0"},l.a.createElement(f,{label:"Destination",helperText:"Select your destination position",data:e,setter:d,value:u}))),l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement("div",{className:"col-lg-5 col-md-12 d-flex justify-content-center align-items-center mb-3 mb-md-0"},l.a.createElement(f,{label:"Waiting Time",helperText:"Enter the maximum time in minutes you can wait for the Bus",data:[15,30,45,60,75,90,105,120],setter:v,value:p}))),1===j&&l.a.createElement("p",{className:"fw-bold text-danger text-center"},"Please ensure all the above fields are selected before searching for Bus."),2===j&&l.a.createElement("p",{className:"fw-bold text-danger text-center"},"Source And Destination Cannot be same"),l.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center"},l.a.createElement(E.a,{sx:{display:"block"},control:l.a.createElement(h.a,{checked:A,onChange:function(){console.log(A),D(function(e){return!e})},color:"warning"}),label:"Set Preference"}),A&&l.a.createElement("div",{className:"text-warning fw-bold h3"},"Early Arrival Time"),!A&&l.a.createElement("div",{className:"text-warning fw-bold h3"},"Least Travel Time "),l.a.createElement("button",{className:"btn btn-warning btn-lg",style:{marginTop:"10px",marginBottom:"10px"},onClick:function(){return function(){if(!J){if(Y(!0),0===c||0===u||0===p)return S(1),void Y(!1);if(c===u)return Y(!1),void S(2);S(0);var e={source:c,destination:u,wait_time:15*p},t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch("/find/predict",t).then(function(e){return e.json()}).then(function(e){console.log(e),Y(!1),T(!0),e.least_time.length?B(A?e.least_time:e.earliest):B(null)}).catch(function(e){console.log(e)})}}()}},J&&l.a.createElement("div",{className:"spinner-border text-light",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading...")),!J&&l.a.createElement(l.a.Fragment,null,"Search"))))},w=function(e){var t=e.step,a=e.icon;return l.a.createElement("div",{className:"card-container col-4 rounded-5 shadow-lg px-5 py-4 m-4 my-5",style:{width:"300px"}},l.a.createElement("div",{className:"card-header"},l.a.createElement("div",{className:"card-title h1"},l.a.createElement("div",{className:"d-flex justify-content-center"}," ",a),l.a.createElement("div",{className:"mb-2 text-center mt-5"},t))))},j=function(){return l.a.createElement("div",{className:"container",style:{minHeight:"90vh"}},l.a.createElement("div",{className:"text-center display-5 font-weight-bold mt-4 heading",style:{fontWeight:500,color:"  #f37335"}},"How to predict your bus?"),l.a.createElement("div",{className:"tutorial-container container-fluid d-flex justify-content-around flex-wrap"},l.a.createElement(w,{icon:l.a.createElement("i",{class:"fa-solid fa-route",style:{fontSize:"70px"}}),step:"Select Source and Destination"}),l.a.createElement(w,{icon:l.a.createElement("i",{class:"fa-solid fa-clock",style:{fontSize:"70px"}}),step:"Select Waiting Time"}),l.a.createElement(w,{icon:l.a.createElement("i",{class:"fa-solid fa-square-poll-vertical",style:{fontSize:"70px"}}),step:"Our Prediction"})))},S=function(){var e=Object(n.useContext)(o),t=(e.userName,e.setUserName,e.token);return(0,e.setToken)(function(){for(var e=document.cookie.split(";"),t=0;t<e.length;++t)" "===e[t][0]&&(e[t]=e[t].substring(1));for(var a="",n=0;n<e.length;++n)if("token="===e[n].slice(0,6)){a=e[n].substring(6);break}return{_token:a}}()._token),Object(n.useEffect)(function(){document.title="Home | Predict Bus"},[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(m,null),l.a.createElement("div",{className:"mt-5 pt-3"},t&&l.a.createElement(y,null),l.a.createElement(j,null)))},O=a(3),C=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(m,null),l.a.createElement("div",{class:"company d-flex flex-column flex-md-row  mt-5",style:{minHeight:"90vh",alignItems:"center",justifyContent:"space-between"}},l.a.createElement("div",{class:"img",style:{maxWidth:"50%",minWidth:"300px"}},l.a.createElement("img",{src:"/assets/images/about-us.gif",alt:""})),l.a.createElement("div",{class:"company-info ",style:{width:"50%",minWidth:"300px"}},l.a.createElement("span",null,"OUR ",l.a.createElement("span",{class:"our"},"GOAL")),l.a.createElement("p",null,l.a.createElement("b",null,"Predict Bus")," is an idea that came from a problem I (Harsh) faced while traveling on local government buses. During Peak hours, many people were traveling, and more buses served them. But as everyone is in a hurry to reach their destination, everyone takes the same bus. And some future buses with vacancies may go empty and some with too many people.",l.a.createElement("br",null),l.a.createElement("br",null),"So we created ",l.a.createElement("b",null,"Predict Bus")," to predict the most optimal bus you should choose based on your traveling preferences."))))},k=a(4),T=a(105),P=a(180),W=a(188),z=a(181),B=a(187),L=a(108),U=a.n(L),A=a(106),D=a.n(A),F=a(107),q=a.n(F),J=["We predict your Bus\ud83d\ude8c","\u2665 Our Work?","Or","faced any issue?","Then do Contact Us\ud83d\udc4b\ud83c\udffd"],Y=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({mobile:"",message:""}),o=Object(s.a)(c,2),i=o[0],u=o[1];Object(n.useEffect)(function(){document.title="Contact | Predict Bus"},[]);var d=function(e){u(function(t){return Object(T.a)({},t,Object(k.a)({},e.target.name,e.target.value))})};return l.a.createElement(l.a.Fragment,null,l.a.createElement(m,null),l.a.createElement(P.a,{maxWidth:"lg",sx:{minHeight:"80vh",marginTop:"6em",marginBottom:{sm:"0",xs:"8em"},padding:"2em 0",borderRadius:2,width:{xs:"90vw"}}},l.a.createElement(B.a,{className:"typewriter",sx:{width:"fit-content",margin:"0 auto",fontSize:{md:"3em",sm:"2em",xs:"1.5em"},mb:4,color:"#fff",animation:"text 6s infinite",fontWeight:700}},l.a.createElement(D.a,{options:{strings:J,autoStart:!0,loop:!0,pauseFor:"1500",stringSplitter:function(e){return(new q.a).splitGraphemes(e)}}})),l.a.createElement(B.a,{sx:{width:"70%",display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"space-around",margin:"auto"}},l.a.createElement(g.a,{component:"form",onSubmit:function(e){console.log(i),e.preventDefault();var t={mobile:i.mobile,message:i.message},a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("/feedback",a).then(function(e){return e.json()}).then(function(e){console.log(e),e.success?alert("Your message is sent Successfully\ud83e\udd1d\ud83c\udffd."):(r(e.message),alert("some error occured while sending your message. Please try again after a while. Inconvineince caused is regretted\ud83d\ude47\ud83c\udffd\u200d\u2642\ufe0f."))}).catch(function(e){r(e)})},sx:{width:"100%"}},l.a.createElement(W.a,{id:"outlined-multiline-static",label:"Contact No",rows:10,placeholder:"Please Enter your Contact No here...",variant:"filled",color:"warning",fullWidth:!0,name:"mobile",onChange:d,value:i.email,required:!0}),l.a.createElement(W.a,{id:"outlined-multiline-static",label:"Message",multiline:!0,rows:10,placeholder:"Please Enter your message here...",variant:"filled",color:"warning",fullWidth:!0,name:"message",onChange:d,value:i.message,required:!0}),l.a.createElement(z.a,{type:"submit",color:"warning",variant:"contained",sx:{my:2},endIcon:l.a.createElement(U.a,null)},"Send"),a&&l.a.createElement("p",{style:{color:"red"}},a)))))},H=a(24);var I=function(){var e=Object(n.useContext)(o),t=(e.userName,e.setUserName),a=(e.token,e.setToken),r=Object(n.useState)(""),c=Object(s.a)(r,2),u=c[0],d=c[1],b=Object(n.useState)(""),g=Object(s.a)(b,2),p=g[0],f=g[1],E=Object(n.useState)(""),h=Object(s.a)(E,2),v=h[0],x=h[1],N=Object(O.l)();return l.a.createElement(H.c,{fluid:!0,className:"vh-100 p-0",style:{overflow:"hidden",backgroundColor:"whitesmoke"}},l.a.createElement(m,null),l.a.createElement(H.e,{className:"d-flex align-items-center px-5 h-100"},l.a.createElement(H.b,{col:"8",className:"d-flex justify-content-center"},l.a.createElement("img",{src:"/assets/images/school-bus.gif",className:"img-fluid rounded-circle border border-5 border-warning",alt:"Sample image"})),l.a.createElement(H.b,{col:"4",md:"6",className:"border border-warning p-5 border-3 rounded-5 shadow-lg",style:{backgroundColor:"white"}},l.a.createElement(H.d,{wrapperClass:"mb-4",label:"Contant No",id:"formControlLg",type:"tel",placeholder:"Enter Your Contact Number",size:"lg",required:!0,onChange:function(e){return d(e.target.value)},className:"rounded-5"}),l.a.createElement(H.d,{wrapperClass:"mb-4",label:"Password",id:"formControlLg",type:"password",placeholder:"Enter Your Password",size:"lg",required:!0,onChange:function(e){return f(e.target.value)},className:"rounded-5"}),v&&l.a.createElement("p",{className:"small fw-bold mt-2 pt-1 mb-2 text-danger"},v),l.a.createElement("div",{className:"text-center text-md-start mt-4 pt-2"},l.a.createElement(i.b,{to:"/"},l.a.createElement(H.a,{className:"mb-0 px-5 btn-warning",size:"lg",onClick:function(){var e={mobile:u,password:p},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch("/auth/login",n).then(function(e){return e.json()}).then(function(e){document.cookie="token=".concat(e.token,";max-age=3600;SameSite=None;secure;"),a(e.token),e.success?(t(e.user.name),N("/")):x(e.message)}).catch(function(e){x(e)})}},"Login")),l.a.createElement("p",{className:"small fw-bold mt-2 pt-1 mb-2"},"Don't have an account?"," ",l.a.createElement(i.b,{to:"/signup",className:"link-danger"},"SignUp"))))))};var M=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(s.a)(c,2),u=o[0],d=o[1],b=Object(n.useState)(""),g=Object(s.a)(b,2),p=g[0],f=g[1],E=Object(n.useState)(""),h=Object(s.a)(E,2),v=h[0],x=h[1],N=Object(n.useState)(!0),y=Object(s.a)(N,2),w=y[0],j=y[1],S=Object(n.useState)(""),C=Object(s.a)(S,2),k=C[0],T=C[1],P=Object(O.l)();return l.a.createElement(H.c,{fluid:!0,className:"vh-100 p-0",style:{overflow:"hidden",backgroundColor:"whitesmoke"}},l.a.createElement(m,null),l.a.createElement(H.e,{className:"d-flex align-items-center px-5 h-100"},l.a.createElement(H.b,{col:"8",className:"d-flex justify-content-center"},l.a.createElement("img",{src:"/assets/images/school-bus.gif",className:"img-fluid rounded-circle border border-5 border-warning",alt:"Sample image"})),l.a.createElement(H.b,{col:"4",md:"6",className:"border border-warning p-5 border-3 rounded-5 shadow-lg",style:{backgroundColor:"white"}},l.a.createElement(H.d,{wrapperClass:"mb-4",label:"Username",id:"formControlLg",type:"text",size:"lg",placeholder:"Enter Your Username",required:!0,onChange:function(e){return r(e.target.value)},className:"rounded-5"}),l.a.createElement(H.d,{wrapperClass:"mb-4",label:"Contant No",id:"formControlLg",type:"tel",size:"lg",placeholder:"Enter Your Contact Number",required:!0,onChange:function(e){return d(e.target.value)},className:"rounded-5"}),l.a.createElement(H.d,{wrapperClass:"mb-4",label:"Password",id:"formControlLg",type:"password",placeholder:"Enter Your Password",size:"lg",required:!0,onChange:function(e){return f(e.target.value)},className:"rounded-5"}),l.a.createElement(H.d,{wrapperClass:"mb-4",label:"Confirm Password",id:"formControlLg",type:"password",placeholder:"Confirm Your Password",size:"lg",required:!0,onChange:function(e){return x(e.target.value)},className:"rounded-5"}),!w&&l.a.createElement("p",{className:"small fw-bold mt-2 pt-1 mb-2 text-danger"},"Passwords not matching"),k&&l.a.createElement("p",{className:"small fw-bold mt-2 pt-1 mb-2 text-danger"},k),l.a.createElement("div",{className:"text-center text-md-start mt-4 pt-2"},l.a.createElement("button",{className:"mb-0 px-5 btn-warning btn btn-warning btn-lg",size:"lg",onClick:function(){if(p===v){var e={name:a,mobile:u,password:p},t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch("/auth/signup",t).then(function(e){return e.json()}).then(function(e){e.success?P("/login"):T(e.message)}).catch(function(e){T(e)})}else j(!1)}},"Sign Up"),l.a.createElement("p",{className:"small fw-bold mt-2 pt-1 mb-2"},"Already have an Account?"," ",l.a.createElement(i.b,{to:"/login",className:"link-danger"},"Login"))))))};var R=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),m=Object(s.a)(c,2),u=m[0],d=m[1];return l.a.createElement(o.Provider,{value:{userName:a,setUserName:r,token:u,setToken:d}},l.a.createElement(i.a,null,l.a.createElement(O.c,null,l.a.createElement(O.a,{path:"/",element:l.a.createElement(S,null)}),l.a.createElement(O.a,{path:"/about",element:l.a.createElement(C,null)}),l.a.createElement(O.a,{path:"/contact",element:l.a.createElement(Y,null)}),l.a.createElement(O.a,{path:"/login",element:l.a.createElement(I,null)}),l.a.createElement(O.a,{path:"/signup",element:l.a.createElement(M,null)}))))};c.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(R,null)))},84:function(e,t,a){e.exports=a(122)},91:function(e,t,a){}},[[84,2,1]]]);
//# sourceMappingURL=main.750c9bb5.chunk.js.map